window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=e&&e.ownerDocument,s=a.body,l=a.defaultView||a.parentWindow||t,i=a.documentElement||s.parentNode,n=i.clientTop||s.clientTop||0,c=i.clientLeft||s.clientLeft||0;return{left:o.left+(l.pageXOffset||i.scrollLeft)-c,top:o.top+(l.pageYOffset||i.scrollTop)-n}}var a,s,l="(?:\\s+|\\b)",i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){t()},n=0,c=0,r=0,p=0,m=function(t){this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100,requestAnimationFrame:!0},f(this,t||{})},f=function(e,o){var l=function(){n=n||t.setTimeout(f,e.options.delay)},m=function(){u(e)},f=function(o){var a=c;n=t.clearTimeout(n),w(),e.speed=c-a,o&&e.initContainers(!0),e.scrollTop=c,e.scrollBottom=r,o?u(e,o):e.options.requestAnimationFrame?i(m):u(e)};a=t.document,s=a.body,e.callbacks={};for(var d in o)"callback"===d?e.addCallback(o[d]):e.options[d]=o[d];t.addEventListener("scroll",l,!1),t.addEventListener("resize",l,!1),e.options.watchTimer&&t.setInterval(function(){s.scrollHeight!==p&&(p=s.scrollHeight,t.clearTimeout(n),n=t.setTimeout(function(){f(!0)},e.options.watchTimer+1))},e.options.watchTimer),f(!0)},w=function(){c=s.scrollTop||a.documentElement.scrollTop,r=c+a.documentElement.offsetHeight},u=function(t,e){for(var o={},a={},s="",i={},n=!1,p=!1,m=!1,f=!1,w=!1,u=!1,d=!1,N=!1,T=0,b=t.container.length;b>T;T++)o=t.container[T],i=o.element,a=o.options,N=!1,n=!(!i.offsetWidth&&!i.offsetHeight),m=o.deltaTop<=r&&o.deltaTop>=c,f=o.deltaTop<=c&&o.deltaBottom>=r,w=o.deltaBottom<=r&&o.deltaBottom>=c,p=n&&(m||w||f),u=m&&w,d=o.inViewport===p&&o.topInViewport===m&&o.bottomInViewport===w&&o.completelyInViewport===u,(e||!p&&!d)&&(s=i.className.replace(new RegExp(l+a.className+"(?:-\\w+)"+(a.stayInView&&o.wasInViewport?"+":"*"),"g"),""),N=!0),p&&!d&&(!N&&(s=i.className),o.inViewport||(s+=o.wasInViewport&&a.stayInView?"":(s?" ":"")+a.className,o.wasInViewport=!0),m&&!o.topInViewport?s+=" "+a.classNameTop:!m&&o.topInViewport&&(s=s.replace(" "+a.classNameTop,"")),w&&!o.bottomInViewport?s+=" "+a.classNameBottom:!w&&o.bottomInViewport&&(s=s.replace(" "+a.classNameBottom,"")),u&&!o.completelyInViewport?s+=" "+a.classNameCompletely:!u&&o.completelyInViewport&&(s=s.replace(" "+a.classNameCompletely,""))),d||(o.inViewport=p,o.topInViewport=m,o.bottomInViewport=w,o.completelyInViewport=u,i.className=s),(p||!d)&&a.callback&&t.callbacks[a.callback]&&t.callbacks[a.callback].call(t,o)};return m.prototype.initContainers=function(t){var a=[],i={},n={},c=0,r="",p=this.options,m={};t&&(this.container=[],a=s.querySelectorAll("["+p.dataAttribute+"]"));for(var f=0,w=a.length;w>f;f++)r=a[f].className,i=JSON.parse(a[f].getAttribute(p.dataAttribute).replace(/'/g,'"')||"{}"),i.offsetTop=i.offsetTop!==e?+i.offsetTop:p.offsetTop,i.offsetBottom=i.offsetBottom!==e?+i.offsetBottom:p.offsetBottom,i.className=i.className!==e?i.className:p.className,i.stayInView=!!i.stayInView||!1,i.initialClassName=i.initialClassName||!1,i.classNameTop=i.className+"-top",i.classNameBottom=i.className+"-bottom",i.classNameCompletely=i.className+"-completely",n=o(a[f]),c=a[f].offsetHeight,m=this.container[f]=this.container[f]||{},m.element=a[f],m.options=i,m.top=n.top,m.bottom=n.top+c,m.deltaTop=n.top-i.offsetTop,m.deltaBottom=n.top+c+i.offsetBottom,m.left=n.left,m.height=c,m.wasInViewport=new RegExp(l+p.className+l).test(r),i.initialClassName&&(a[f].className=r+(r?" ":"")+i.initialClassName)},m.prototype.addCallback=function(t){for(var e in t)this.callbacks[e]=t[e]},m.prototype.removeCallback=function(t){delete this.callbacks[t]},m}(window);