window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=e&&e.ownerDocument,s=a.body,l=a.defaultView||a.parentWindow||t,n=a.documentElement||s.parentNode,i=n.clientTop||s.clientTop||0,c=n.clientLeft||s.clientLeft||0;return{left:o.left+(l.pageXOffset||n.scrollLeft)-c,top:o.top+(l.pageYOffset||n.scrollTop)-i}}var a,s,l="(?:\\s+|\\b)",n=0,i=0,c=0,p=0,r=function(t){this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100},m(this,t||{})},m=function(e,o){var l=function(o){n=n||t.setTimeout(r,e.options.delay)},r=function(o){var a=i;n=t.clearTimeout(n),f(),e.speed=i-a,o&&e.initContainers(!0),e.scrollTop=i,e.scrollBottom=c,w(e,o)};a=t.document,s=a.body,e.callbacks=[];for(var m in o)if("callback"===m){m="function"==typeof o[m]?[o[m]]:o[m];for(var d=m.length;d--;)e.addCallback(m[d])}else e.options[m]=o[m];t.addEventListener("scroll",l,!1),t.addEventListener("resize",l,!1),e.options.watchTimer&&t.setInterval(function(){s.scrollHeight!==p&&(p=s.scrollHeight,t.clearTimeout(n),n=t.setTimeout(function(){r(!0)},e.options.watchTimer+1))},e.options.watchTimer),r(!0)},f=function(t){i=s.scrollTop||a.documentElement.scrollTop,c=i+a.documentElement.offsetHeight},w=function(t,e){for(var o={},a={},s="",n={},p=!1,r=!1,m=!1,f=!1,w=!1,d=!1,u=!1,N=0,h=t.container.length;h>N;N++)o=t.container[N],n=o.element,a=o.options,u=!1,r=o.deltaTop<=c&&o.deltaTop>=i,m=o.deltaTop<=i&&o.deltaBottom>=c,f=o.deltaBottom<=c&&o.deltaBottom>=i,p=r||f||m,w=r&&f,d=o.inViewport===p&&o.topInViewport===r&&o.bottomInViewport===f&&o.completelyInViewport===w,(e||!p&&!d)&&(s=n.className.replace(new RegExp(l+a.className+"(?:-\\w+)"+(a.stayInView&&o.wasInViewport?"+":"*"),"g"),""),u=!0),p&&!d&&(!u&&(s=n.className),o.inViewport||(s+=o.wasInViewport&&a.stayInView?"":(s?" ":"")+a.className,o.wasInViewport=!0),r&&!o.topInViewport?s+=" "+a.classNameTop:!r&&o.topInViewport&&(s=s.replace(" "+a.classNameTop,"")),f&&!o.bottomInViewport?s+=" "+a.classNameBottom:!f&&o.bottomInViewport&&(s=s.replace(" "+a.classNameBottom,"")),w&&!o.completelyInViewport?s+=" "+a.classNameCompletely:!w&&o.completelyInViewport&&(s=s.replace(" "+a.classNameCompletely,""))),d||(o.inViewport=p,o.topInViewport=r,o.bottomInViewport=f,o.completelyInViewport=w,n.className=s),(p||!d)&&a.callback&&t.callbacks[a.callback]&&t.callbacks[a.callback].call(t,o)};return r.prototype.initContainers=function(t){var a={},n={},i=0,c="",p=this.options,r={};t&&(this.container=[],this.elements=s.querySelectorAll("["+p.dataAttribute+"]"));for(var m=0,f=this.elements.length;f>m;m++)c=this.elements[m].className,a=JSON.parse(this.elements[m].getAttribute(p.dataAttribute).replace(/'/g,'"')||"{}"),a.offsetTop=a.offsetTop!==e?+a.offsetTop:p.offsetTop,a.offsetBottom=a.offsetBottom!==e?+a.offsetBottom:p.offsetBottom,a.className=a.className!==e?a.className:p.className,a.stayInView=!!a.stayInView||!1,a.initialClassName=a.initialClassName||!1,a.classNameTop=a.className+"-top",a.classNameBottom=a.className+"-bottom",a.classNameCompletely=a.className+"-completely",n=o(this.elements[m]),i=this.elements[m].offsetHeight,r=this.container[m]=this.container[m]||{},r.element=this.elements[m],r.options=a,r.top=n.top,r.bottom=n.top+i,r.deltaTop=n.top-a.offsetTop,r.deltaBottom=n.top+i+a.offsetBottom,r.left=n.left,r.height=i,r.wasInViewport=new RegExp(l+p.className+l).test(c),a.initialClassName&&(this.elements[m].className=c+(c?" ":"")+a.initialClassName)},r.prototype.addCallback=function(t){for(var e in t)this.callbacks[e]||(this.callbacks[e]=t[e])},r.prototype.removeCallback=function(t){delete this.callbacks[t]},r}(window);