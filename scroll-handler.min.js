window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=e&&e.ownerDocument,s=a.body,l=a.defaultView||a.parentWindow||t,i=a.documentElement||s.parentNode,n=i.clientTop||s.clientTop||0,c=i.clientLeft||s.clientLeft||0;return{left:o.left+(l.pageXOffset||i.scrollLeft)-c,top:o.top+(l.pageYOffset||i.scrollTop)-n}}var a,s,l="(?:\\s+|\\b)",i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){t()},n=0,c=0,m=0,r=0,p=function(t){this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100,requestAnimationFrame:!0},f(this,t||{})},f=function(e,o){var l=function(){n=n||t.setTimeout(f,e.options.delay)},p=function(){u(e)},f=function(o){var a=c;n=t.clearTimeout(n),w(),e.speed=c-a,o&&e.initContainers(!0),e.scrollTop=c,e.scrollBottom=m,o?u(e,o):e.options.requestAnimationFrame?i(p):u(e)};a=t.document,s=a.body,e.callbacks={};for(var d in o)"callback"===d?e.addCallback(o[d]):e.options[d]=o[d];t.addEventListener("scroll",l,!1),t.addEventListener("resize",l,!1),e.options.watchTimer&&t.setInterval(function(){s.scrollHeight!==r&&(r=s.scrollHeight,t.clearTimeout(n),n=t.setTimeout(function(){f(!0)},e.options.watchTimer+1))},e.options.watchTimer),f(!0)},w=function(){c=s.scrollTop||a.documentElement.scrollTop,m=c+a.documentElement.offsetHeight},u=function(t,e){for(var o={},a={},s="",i={},n=!1,r=!1,p=!1,f=!1,w=!1,u=!1,d=!1,N=!1,h=0,T=t.container.length;T>h;h++)o=t.container[h],i=o.element,a=o.options,N=!1,n=!(!i.offsetWidth&&!i.offsetHeight),p=o.deltaTop<=m&&o.deltaTop>=c,f=o.deltaTop<=c&&o.deltaBottom>=m,w=o.deltaBottom<=m&&o.deltaBottom>=c,r=n&&(p||w||f),u=p&&w,d=o.inViewport===r&&o.topInViewport===p&&o.bottomInViewport===w&&o.completelyInViewport===u,(e||!r&&!d)&&(s=i.className.replace(new RegExp(l+a.className+"(?:-\\w+)"+(a.stayInView&&o.wasInViewport?"+":"*"),"g"),""),N=!0),r&&!d&&(!N&&(s=i.className),o.inViewport||(s+=o.wasInViewport&&a.stayInView?"":(s?" ":"")+a.className,o.wasInViewport=!0),p&&!o.topInViewport?s+=" "+a.classNameTop:!p&&o.topInViewport&&(s=s.replace(" "+a.classNameTop,"")),w&&!o.bottomInViewport?s+=" "+a.classNameBottom:!w&&o.bottomInViewport&&(s=s.replace(" "+a.classNameBottom,"")),u&&!o.completelyInViewport?s+=" "+a.classNameCompletely:!u&&o.completelyInViewport&&(s=s.replace(" "+a.classNameCompletely,""))),d||(o.inViewport=r,o.topInViewport=p,o.bottomInViewport=w,o.completelyInViewport=u,i.className=s),(r||!d)&&a.callback&&t.callbacks[a.callback]&&t.callbacks[a.callback].call(t,o)};return p.prototype.initContainers=function(t){var a={},i={},n=0,c="",m=this.options,r={};t&&(this.container=[],this.elements=s.querySelectorAll("["+m.dataAttribute+"]"));for(var p=0,f=this.elements.length;f>p;p++)c=this.elements[p].className,a=JSON.parse(this.elements[p].getAttribute(m.dataAttribute).replace(/'/g,'"')||"{}"),a.offsetTop=a.offsetTop!==e?+a.offsetTop:m.offsetTop,a.offsetBottom=a.offsetBottom!==e?+a.offsetBottom:m.offsetBottom,a.className=a.className!==e?a.className:m.className,a.stayInView=!!a.stayInView||!1,a.initialClassName=a.initialClassName||!1,a.classNameTop=a.className+"-top",a.classNameBottom=a.className+"-bottom",a.classNameCompletely=a.className+"-completely",i=o(this.elements[p]),n=this.elements[p].offsetHeight,r=this.container[p]=this.container[p]||{},r.element=this.elements[p],r.options=a,r.top=i.top,r.bottom=i.top+n,r.deltaTop=i.top-a.offsetTop,r.deltaBottom=i.top+n+a.offsetBottom,r.left=i.left,r.height=n,r.wasInViewport=new RegExp(l+m.className+l).test(c),a.initialClassName&&(this.elements[p].className=c+(c?" ":"")+a.initialClassName)},p.prototype.addCallback=function(t){for(var e in t)this.callbacks[e]=t[e]},p.prototype.removeCallback=function(t){delete this.callbacks[t]},p}(window);