window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=e&&e.ownerDocument,l=a.body,s=a.defaultView||a.parentWindow||t,n=a.documentElement||l.parentNode,i=n.clientTop||l.clientTop||0,c=n.clientLeft||l.clientLeft||0;return{left:o.left+(s.pageXOffset||n.scrollLeft)-c,top:o.top+(s.pageYOffset||n.scrollTop)-i}}var a=t.document,l=a.body,s=a.documentElement,n="(?:\\s+|\\b)",i=0,c=0,p=0,m=l.scrollHeight,r=function(t){this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100},f(this,t||{})},f=function(e,o){var a=function(o){i=i||t.setTimeout(s,e.options.delay)},s=function(o){var a=c;i=t.clearTimeout(i),w(),e.speed=c-a,o&&e.initContainers(!0),e.scrollTop=c,e.scrollBottom=p,d(e,o)};e.callbacks=[];for(var n in o)if("callback"===n){n="function"==typeof o[n]?[o[n]]:o[n];for(var r=n.length;r--;)e.addCallback(n[r])}else e.options[n]=o[n];t.addEventListener("scroll",a,!1),t.addEventListener("resize",a,!1),e.options.watchTimer&&t.setInterval(function(){l.scrollHeight!==m&&(m=l.scrollHeight,s(!0))},e.options.watchTimer),s(!0)},w=function(t){c=l.scrollTop||s.scrollTop,p=c+s.offsetHeight},d=function(t,e){for(var o={},a={},l="",s=!1,i=!1,m=!1,r=!1,f=!1,w=!1,d=0,h=t.container.length;h>d;d++)o=t.container[d],a=o.options,l=o.element.className||"",i=o.deltaTop<p&&o.deltaTop>c,m=o.deltaTop<c&&o.deltaBottom>p,r=o.deltaBottom<p&&o.deltaBottom>c,s=i||r||m,f=i&&r,w=o.inViewport===s&&o.topInViewport===i&&o.bottomInViewport===r&&o.completelyInViewport===f,(e||!s&&!w)&&(l=l.replace(new RegExp(n+a.className+"(?:-\\w+)"+(a.stayInView&&o.wasInViewport?"+":"*"),"g"),"")),s&&(o.inViewport||(l+=o.wasInViewport&&a.stayInView?"":(l?" ":"")+a.className,o.wasInViewport=!0),i&&!o.topInViewport?l+=" "+a.classNameTop:!i&&o.topInViewport&&(l=l.replace(" "+a.classNameTop,"")),r&&!o.bottomInViewport?l+=" "+a.classNameBottom:!r&&o.bottomInViewport&&(l=l.replace(" "+a.classNameBottom,"")),f&&!o.completelyInViewport?l+=" "+a.classNameCompletely:!f&&o.completelyInViewport&&(l=l.replace(" "+a.classNameCompletely,""))),w||(o.inViewport=s,o.topInViewport=i,o.bottomInViewport=r,o.completelyInViewport=f,o.element.className=l),s&&a.callback&&t.callbacks[a.callback]&&t.callbacks[a.callback].call(t,o)};return r.prototype.initContainers=function(t){var a={},s={},i=0,c="",p=this.options,m={};t&&(this.container=[],this.elements=l.querySelectorAll("["+p.dataAttribute+"]"));for(var r=0,f=this.elements.length;f>r;r++)c=this.elements[r].className,a=JSON.parse(this.elements[r].getAttribute(p.dataAttribute).replace(/'/g,'"')||"{}"),a.offsetTop=a.offsetTop!==e?+a.offsetTop:p.offsetTop,a.offsetBottom=a.offsetBottom!==e?+a.offsetBottom:p.offsetBottom,a.className=a.className!==e?a.className:p.className,a.stayInView=!!a.stayInView||!1,a.initialClassName=a.initialClassName||!1,a.classNameTop=a.className+"-top",a.classNameBottom=a.className+"-bottom",a.classNameCompletely=a.className+"-completely",s=o(this.elements[r]),i=this.elements[r].offsetHeight,m=this.container[r]=this.container[r]||{},m.element=this.elements[r],m.options=a,m.top=s.top,m.bottom=s.top+i,m.deltaTop=s.top-a.offsetTop,m.deltaBottom=s.top+i+a.offsetBottom,m.left=s.left,m.height=i,m.wasInViewport=new RegExp(n+p.className+n).test(c),a.initialClassName&&(this.elements[r].className=c+(c?" ":"")+a.initialClassName)},r.prototype.addCallback=function(t){this.callbacks[t.name]||(this.callbacks[t.name]=t)},r.prototype.removeCallback=function(t){delete this.callbacks[t.name]},r}(window);