window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},a=e&&e.ownerDocument,l=a.body,s=a.defaultView||a.parentWindow||t,n=a.documentElement||l.parentNode,i=n.clientTop||l.clientTop||0,c=n.clientLeft||l.clientLeft||0;return{left:o.left+(s.pageXOffset||n.scrollLeft)-c,top:o.top+(s.pageYOffset||n.scrollTop)-i}}var a=t.document.body,l="(?:\\s+|\\b)",s=0,n=0,i=0,c=a.scrollHeight,p=function(t){this.options={dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100},m(this,t||{})},m=function(e,o){var l=function(o){s=s||t.setTimeout(p,e.options.delay)},p=function(o){s=t.clearTimeout(s),r(),o&&e.initContainers(!0),e.scrollTop=n,e.scrollBottom=i,f(e,o)};e.callbacks=[];for(var m in o)if("callback"===m){m="function"==typeof o[m]?[o[m]]:o[m];for(var w=m.length;w--;)e.addCallback(m[w])}else e.options[m]=o[m];t.addEventListener("scroll",l,!1),t.addEventListener("resize",l,!1),e.options.watchTimer&&t.setInterval(function(){a.scrollHeight!==c&&(c=a.scrollHeight,p(!0))},e.options.watchTimer),p(!0)},r=function(t){n=a.scrollTop||document.documentElement.scrollTop,i=n+document.documentElement.offsetHeight},f=function(t,e){for(var o={},a={},s="",c=!1,p=!1,m=!1,r=!1,f=!1,w=!1,d=0,u=t.container.length;u>d;d++)o=t.container[d],a=o.options,s=o.element.className||"",p=o.deltaTop<i&&o.deltaTop>n,m=o.deltaTop<n&&o.deltaBottom>i,r=o.deltaBottom<i&&o.deltaBottom>n,c=p||r||m,f=p&&r,w=o.inViewport===c&&o.topInViewport===p&&o.bottomInViewport===r&&o.completelyInViewport===f,(e||!c&&!w)&&(s=s.replace(new RegExp(l+a.className+"(?:-\\w+)"+(a.stayInView&&o.wasInViewport?"+":"*"),"g"),"")),c&&(o.inViewport||(s+=o.wasInViewport&&a.stayInView?"":(s?" ":"")+a.className,o.wasInViewport=!0),p&&!o.topInViewport?s+=" "+a.classNameTop:!p&&o.topInViewport&&(s=s.replace(" "+a.classNameTop,"")),r&&!o.bottomInViewport?s+=" "+a.classNameBottom:!r&&o.bottomInViewport&&(s=s.replace(" "+a.classNameBottom,"")),f&&!o.completelyInViewport?s+=" "+a.classNameCompletely:!f&&o.completelyInViewport&&(s=s.replace(" "+a.classNameCompletely,""))),w||(o.inViewport=c,o.topInViewport=p,o.bottomInViewport=r,o.completelyInViewport=f,o.element.className=s),c&&a.callback&&t.callbacks[a.callback]&&t.callbacks[a.callback].call(t,o)};return p.prototype.initContainers=function(t){var s={},n={},i=0,c="",p=this.options,m={};t&&(this.container=[],this.elements=a.querySelectorAll("["+p.dataAttribute+"]"));for(var r=0,f=this.elements.length;f>r;r++)c=this.elements[r].className,s=JSON.parse(this.elements[r].getAttribute(p.dataAttribute).replace(/'/g,'"')||"{}"),s.offsetTop=s.offsetTop!==e?+s.offsetTop:p.offsetTop,s.offsetBottom=s.offsetBottom!==e?+s.offsetBottom:p.offsetBottom,s.className=s.className!==e?s.className:p.className,s.stayInView=!!s.stayInView||!1,s.initialClassName=s.initialClassName||!1,s.classNameTop=s.className+"-top",s.classNameBottom=s.className+"-bottom",s.classNameCompletely=s.className+"-completely",n=o(this.elements[r]),i=this.elements[r].offsetHeight,m=this.container[r]=this.container[r]||{},m.element=this.elements[r],m.options=s,m.top=n.top,m.bottom=n.top+i,m.deltaTop=n.top-s.offsetTop,m.deltaBottom=n.top+i+s.offsetBottom,m.left=n.left,m.height=i,m.wasInViewport=new RegExp(l+p.className+l).test(c),s.initialClassName&&(this.elements[r].className=c+(c?" ":"")+s.initialClassName)},p.prototype.addCallback=function(t){this.callbacks[t.name]||(this.callbacks[t.name]=t)},p.prototype.removeCallback=function(t){delete this.callbacks[t.name]},p}(window);