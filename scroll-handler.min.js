window.IsInViewport=function(t,e){"use strict";function o(e){var o=e.getBoundingClientRect?e.getBoundingClientRect():{top:0,left:0},l=e&&e.ownerDocument,a=l.body,s=l.defaultView||l.parentWindow||t,n=l.documentElement||a.parentNode,i=n.clientTop||a.clientTop||0,c=n.clientLeft||a.clientLeft||0;return{left:o.left+(s.pageXOffset||n.scrollLeft)-c,top:o.top+(s.pageYOffset||n.scrollTop)-i}}var l,a,s="(?:\\s+|\\b)",n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){t()},i=0,c=0,p=0,r=0,m={},f=function(e){this.options={scrollElement:t,dataAttribute:"data-inview",className:"inview",offsetTop:0,offsetBottom:0,delay:100,watchTimer:100,requestAnimationFrame:!0},w(this,e||{})},w=function(e,s){var f=function(){i=i||t.setTimeout(N,e.options.delay)},w=function(){d(e)},N=function(l){var a=c;i=t.clearTimeout(i),m=e.options.scrollElement===t?{top:0}:o(e.options.scrollElement),u(e),e.speed=c-a,l&&e.initContainers(!0),e.scrollTop=c,e.scrollBottom=p,l?d(e,l):e.options.requestAnimationFrame?n(w):d(e)};l=t.document,a=l.body,e.callbacks={};for(var T in s)"callback"===T?e.addCallback(s[T]):e.options[T]=s[T];e.options.scrollElement.addEventListener("scroll",f,!1),t.addEventListener("resize",f,!1),e.options.watchTimer&&t.setInterval(function(){a.scrollHeight!==r&&(r=a.scrollHeight,t.clearTimeout(i),i=t.setTimeout(function(){N(!0)},e.options.watchTimer+1))},e.options.watchTimer),N(!0)},u=function(e){c=e.options.scrollElement!==t?e.options.scrollElement.scrollTop+m.top:a.scrollTop||l.documentElement.scrollTop,p=c+(e.options.scrollElement!==t?e.options.scrollElement.offsetHeight:l.documentElement.offsetHeight)},d=function(t,e){for(var o={},l={},a="",n={},i=!1,r=!1,m=!1,f=!1,w=!1,u=!1,d=!1,N=!1,T=0,b=t.container.length;b>T;T++)o=t.container[T],n=o.element,l=o.options,N=!1,i=!(!n.offsetWidth&&!n.offsetHeight),m=o.deltaTop<=p&&o.deltaTop>=c,f=o.deltaTop<=c&&o.deltaBottom>=p,w=o.deltaBottom<=p&&o.deltaBottom>=c,r=i&&(m||w||f),u=m&&w,d=o.inViewport===r&&o.topInViewport===m&&o.bottomInViewport===w&&o.completelyInViewport===u,(e||!r&&!d)&&(a=n.className.replace(new RegExp(s+l.className+"(?:-\\w+)"+(l.stayInView&&o.wasInViewport?"+":"*"),"g"),""),N=!0),r&&!d&&(!N&&(a=n.className),o.inViewport||(a+=o.wasInViewport&&l.stayInView?"":(a?" ":"")+l.className,o.wasInViewport=!0),m&&!o.topInViewport?a+=" "+l.classNameTop:!m&&o.topInViewport&&(a=a.replace(" "+l.classNameTop,"")),w&&!o.bottomInViewport?a+=" "+l.classNameBottom:!w&&o.bottomInViewport&&(a=a.replace(" "+l.classNameBottom,"")),u&&!o.completelyInViewport?a+=" "+l.classNameCompletely:!u&&o.completelyInViewport&&(a=a.replace(" "+l.classNameCompletely,""))),d||(o.inViewport=r,o.topInViewport=m,o.bottomInViewport=w,o.completelyInViewport=u,n.className=a),(r||!d)&&l.callback&&t.callbacks[l.callback]&&t.callbacks[l.callback].call(t,o)};return f.prototype.initContainers=function(t){var l=[],n={},i={},c=0,p="",r=this.options,m={};t&&(this.container=[],l=a.querySelectorAll("["+r.dataAttribute+"]"));for(var f=0,w=l.length;w>f;f++)p=l[f].className,n=JSON.parse(l[f].getAttribute(r.dataAttribute).replace(/'/g,'"')||"{}"),n.offsetTop=n.offsetTop!==e?+n.offsetTop:r.offsetTop,n.offsetBottom=n.offsetBottom!==e?+n.offsetBottom:r.offsetBottom,n.className=n.className!==e?n.className:r.className,n.stayInView=!!n.stayInView||!1,n.initialClassName=n.initialClassName||!1,n.classNameTop=n.className+"-top",n.classNameBottom=n.className+"-bottom",n.classNameCompletely=n.className+"-completely",i=o(l[f]),c=l[f].offsetHeight,m=this.container[f]=this.container[f]||{},m.element=l[f],m.options=n,m.top=i.top,m.bottom=i.top+c,m.deltaTop=i.top-n.offsetTop,m.deltaBottom=i.top+c+n.offsetBottom,m.left=i.left,m.height=c,m.wasInViewport=new RegExp(s+r.className+s).test(p),n.initialClassName&&(l[f].className=p+(p?" ":"")+n.initialClassName)},f.prototype.addCallback=function(t){for(var e in t)this.callbacks[e]=t[e]},f.prototype.removeCallback=function(t){delete this.callbacks[t]},f}(window);